#include <ESP32Servo.h>
//bott & servo
Servo myServo;
const int servoPin = 25;
const int buttonPin = 14;

void setup() {
  Serial.begin(115200);
  pinMode(buttonPin, INPUT_PULLUP);
  
  myServo.setPeriodHertz(50);
  myServo.attach(servoPin, 1000, 2000);
  
  Serial.println("Setup done");
}


void loop() {
  int buttonState = digitalRead(buttonPin);
  Serial.print("Button state: ");
  Serial.println(buttonState);
  /*
  // توقف
  myServo.writeMicroseconds(1500); // توقف
  delay(2000);
  */

  if (buttonState == LOW) {

    myServo.writeMicroseconds(1000);
    //delay(200);
    Serial.println("Button pressed - Servo rotating");
  }
  else {

    myServo.writeMicroseconds(1500);
    //delay(200);
    Serial.println("Button released - Servo stopped");
  }
  delay(100);
}
